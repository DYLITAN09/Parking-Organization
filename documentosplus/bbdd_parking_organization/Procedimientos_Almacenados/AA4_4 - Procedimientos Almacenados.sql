-- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
-- Procedimientos Almacenados (CRUD) 
-- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
-- Crear o Insertar un nuevo Registro
-- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
DELIMITER $$
CREATE PROCEDURE creacion_usuario()
BEGIN
	INSERT INTO usuario VALUES (NULL, 'CC', 'Johana Valentina', 'Aguero Baez', 'Residente', 9213172469, 5471824, 'johanavalen@gmail.com', '1WqZfySp', 'Pintor') ;
END;$$
DELIMITER ;
-- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
CALL creacion_usuario();
-- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
-- Seleccionar o Buscar los Usuarios
-- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
DELIMITER $$
CREATE PROCEDURE mostrar_usuario()
BEGIN	
	SELECT * FROM usuario;
END;$$
DELIMITER ;
-- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
CALL mostrar_usuario();
-- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
-- Actualizar todos los Usuarios con un solo Registro
-- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
DELIMITER $$
CREATE PROCEDURE actualizar_usuario(
	idUsuario INT(11),  
	tipoDocUsuario VARCHAR (2), 
	nombresUsuario VARCHAR(30), 
	apellidosUsuario VARCHAR(30), 
	tipoUsuario VARCHAR(13), 
	telcelularUsuario VARCHAR(10), 
	telefijoUsuario VARCHAR(7),
	correoUsuario VARCHAR(50),
	contraseñaUsuario VARCHAR(8),
	ocupacionUsuario VARCHAR(30))
BEGIN
	UPDATE usuario SET
	tipoDocUsuario = 'CE',
	nombresUsuario = 'Juliana Maria',
	apellidosUsuario = 'Quiroz Roa', 
	tipoUsuario = 'Residente',
	telcelularUsuario = 1027620911,
	telefijoUsuario = 8902387,
	correoUsuario = 'julimar458@gmail.com',
	contraseñaUsuario = '4Oeqp9Mt',
	ocupacionUsuario = 'Ingeniera Quimica'
	WHERE idUsuario = 9; 
END;$$
DELIMITER ;

-- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
CALL actualizar_usuario(9,'CE', 'Juliana Maria','Quiroz Roa', 'Residente', 1027620911, 890238, 'julimar458@gmail.com', '4Oeqp9Mt','Ingeniera Quimica' );
-- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
-- Eliminar un Usuario
-- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
DELIMITER $$
CREATE PROCEDURE eliminar_usuario()
BEGIN	
	DELETE FROM usuario WHERE idUsuario = 2;
END;$$
DELIMITER ;
-- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
CALL eliminar_usuario();
-- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

-- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
-- Eliminar Procedimientos Almacenados
-- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
DROP PROCEDURE creacion_usuario;  
DROP PROCEDURE mostrar_usuario;  
DROP PROCEDURE actualizar_usuario;  
DROP PROCEDURE eliminar_usuario;  

